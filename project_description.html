<h3>INSTALLATION: Setting up the Raspberry Pi</h3>
<p>Target Operating System: Raspbian - Bookworm</p>
<p>Update the Raspberry Pi</p>
<pre><code>
sudo apt-get update
sudo apt-get upgrade
</code></pre>
<p>Plug in an external drive and mount</p>
<pre><code>
sudo mkdir /mnt/MediaBox
sudo mount /dev/sda1 /mnt/MediaBox
sudo blkid
/dev/sda1: LABEL="data-ntfs" BLOCK_SIZE="512" UUID="27705CE4072C15B2" TYPE="ntfs" PARTLABEL="data-ntfs" PARTUUID="b62c5b39-5e0f-493c-95a5-032c5cb7adb7"

sudo nano /etc/fstab
</code></pre>
<pre><code>UUID=27705CE4072C15B2	/mnt/MediaBox	ntfs	defaults,auto,users,rw 0 0</code></pre>
<p>Set up static IP to be able to consistently access the system from your local network</p>
<pre><code>
sudo nmcli connection modify 'Wired connection 1' ipv4.address 192.168.1.32/24
sudo nmcli connection modify 'Wired connection 1' ipv4.gateway 192.168.1.1
sudo nmcli connection modify 'Wired connection 1' ipv4.method manual
sudo nmcli connection modify 'Wired connection 1' ipv4.dns '1.1.1.1'
sudo nmcli connection down 'Wired connection 1'
sudo nmcli connection up 'Wired connection 1'
sudo nmcli connection up 'Wired connection 1'
</code></pre>
<p>Setting up the Samba server</p>
<pre><code>
sudo apt-get install samba samba-common-bin
sudo nano /etc/samba/smb.conf
</code></pre>
<p>Set up 2 Samba server locations. One for the media location and one for managing the project files. The Media
	location will not be password protected and will be visible to everyone on the network.</p>
<pre><code>
[Media]
path = /mnt/MediaBox
writeable=Yes
create mask=0777
directory mask=0777
public=yes

[Pi]
path = /home/pi
writeable=Yes
create mask=0777
directory mask=0777
public=no
</code></pre>
<p>Complete Samba server set up</p>
<pre><code>
sudo smbpasswd -a pi
sudo systemctl restart smbd
</code></pre>
<p>Setting up transmission for automated torrent downloads</p>
<pre><code>
sudo apt-get install transmission-daemon
sudo systemctl stop transmission-daemon
sudo nano /etc/transmission-daemon/settings.json
</code></pre>
<p>Transmission configuration file can be found <a>here</a>.</p>




# SQL Database
sudo apt install mariadb-server
sudo mysql_secure_installation
sudo apt install phpmyadmin

sudo nano /etc/apache2/apache2.conf
Include /etc/phpmyadmin/apache.conf
sudo service apache2 restart
sudo ln -s /usr/share/phpmyadmin /var/www/html


# PYTHON ENVIRONMENT
# https://www.raspberrypi.com/documentation/computers/os.html#python-on-raspberry-pi

sudo apt install python3.11-venv
sudo apt-get install --yes libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libgdbm-dev lzma lzma-dev tcl-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev wget curl make build-essential openssl
sudo apt-get install python3-dev default-libmysqlclient-dev build-essential
sudo apt-get install python3-flask
sudo apt-get install libopenjp2-7-dev
sudo apt install unixodbc-dev


git clone https://github.com/iamJohnnySam/MediaBox.git
cd MediaBox
python -m venv env
source env/bin/activate

pip install schedule
pip install logger
pip install Flask
pip install telepot
pip install Pillow
pip install feedparser
pip install numpy
pip install urllib3
pip install imaplib2
pip install transmission-rpc
pip install openai
pip install bardapi
pip install mysqlclient
pip install mysql-connector-python
pip install psycopg2
pip install psycopg2-binary
pip install dirsync
pip install tinytuya
pip install IMDbPY
pip install tflite-runtime
pip install gdown
pip install opencv-python
pip install matplotlib
pip install pyodbc
pip install pandas

deactivate


cd /home/pi/MediaBox/cctv/
mkdir nn_models
cd nn_models
curl -L "https://drive.google.com/file/d/1-1i0UqlOT46jTQZP980FOhBcdHFGfaPW/view?usp=sharing" -o modelA01.tflite
curl -L "https://drive.google.com/file/d/1qkNWVF28CRyTo96fLCgB2BvELqPFTdcO/view?usp=sharing" -o modelA02.tflite

cd /home/pi
nano launcher.sh

	#!/bin/sh
	# launcher.sh
	# navigate to home directory, then to this directory, then execute python script, then back home

	sudo apt-get update -y

	reset
	echo "   _                           _           _                               ____                      "
	echo "  (_)   __ _   _ __ ___       | |   ___   | |__    _ __    _ __    _   _  / ___|    __ _   _ __ ___  "
	echo "  | |  / _\ | |  _   _ \   _  | |  / _ \  |  _ \  |  _ \  |  _ \  | | | | \___ \   / _\ | |  _   _ \ "
	echo "  | | | (_| | | | | | | | | |_| | | (_) | | | | | | | | | | | | | | |_| |  ___) | | (_| | | | | | | |"
	echo "  |_|  \__,_| |_| |_| |_|  \___/   \___/  |_| |_| |_| |_| |_| |_|  \__, | |____/   \__,_| |_| |_| |_|"
	echo "                                                                   |___/                             "
	echo
	echo
	echo
	cd /home/pi/MediaBox
	python -V
	git pull origin master
	. /home/pi/MediaBox/env/bin/activate
	python main.py
	deactivate

chmod 755 launcher.sh


cd /home/pi
nano permission_error_correction.sh

sudo chmod -R 777 MediaBox
cd /home/pi/MediaBox
git reset --hard origin/master
cd
sh launcher.sh

chmod 755 permission_error_correction.sh


sudo crontab -e
@reboot sh /home/pi/launcher.sh

git config --global --add safe.directory /home/pi/MediaBox
sudo git config --global --add safe.directory /home/pi/MediaBox

# https://pimylifeup.com/raspberry-pi-mysql/

sudo mysql -u root -p

CREATE USER 'mediabox'@'localhost' IDENTIFIED BY 'pw';

CREATE DATABASE transactions;
GRANT ALL PRIVILEGES ON transactions.* TO 'mediabox'@'localhost';
FLUSH PRIVILEGES;

CREATE DATABASE administration;
GRANT ALL PRIVILEGES ON administration.* TO 'mediabox'@'localhost';
FLUSH PRIVILEGES;

CREATE DATABASE entertainment;
GRANT ALL PRIVILEGES ON entertainment.* TO 'mediabox'@'localhost';
FLUSH PRIVILEGES;

CREATE DATABASE news;
GRANT ALL PRIVILEGES ON news.* TO 'mediabox'@'localhost';
FLUSH PRIVILEGES;

CREATE DATABASE baby;
GRANT ALL PRIVILEGES ON baby.* TO 'mediabox'@'localhost';
FLUSH PRIVILEGES;

sh launcher.sh



# Run Test File
cd /home/pi/MediaBox
git pull origin master
. /home/pi/MediaBox/env/bin/activate
python database_update_temp_file.py
deactivate
cd


<h3>FUNCTION: Logger</h3>
<p>This is one of the most important functions which help to log the activities of the program to keep track,
    monitor and troubleshoot any issues that may come up.</p>